require=function o(c,a,u){function h(t,i){if(!a[t]){if(!c[t]){var e="function"==typeof require&&require;if(!i&&e)return e(t,!0);if(d)return d(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[t]={exports:{}};c[t][0].call(s.exports,function(i){return h(c[t][1][i]||i)},s,s.exports,o,c,a,u)}return a[t].exports}for(var d="function"==typeof require&&require,i=0;i<u.length;i++)h(u[i]);return h}({aixin:[function(i,t,e){"use strict";cc._RF.push(t,"cbbc7gkKPBN75ocoCft8L4j","aixin");var n=i("publicData");cc.Class({extends:cc.Component,properties:{downSpeed:10,main:{default:null,type:cc.Node},animation:null,autoFasheTimeD:3,isFashe:!1,isAddFs:!1,zidan:{default:null,type:cc.Prefab},fenshuLabel:{default:null,type:cc.Label},spriteFrame:null,pr:500,nowPr:500,baozhaAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.isStop=!1,this.isFashe=!0,cc.audioEngine.setEffectsVolume(.1),this.spriteFrame=this.getComponent(cc.Sprite).spriteFrame,cc.director.getCollisionManager().enabled=!0;var t=this;this.animation=this.getComponent(cc.Animation),this.animation.destroyFeiji=function(){if(!t.isAddFs){var i=t.main.getComponent("game");i.fenshu+=1,t.fenshuLabel.string=i.fenshu}t.node.destroy()}.bind(this),this.autoFasheZidan()},autoFasheZidan:function(){this.schedule(function(){if(!this.isStop&&this.isFashe){var i=cc.instantiate(this.zidan);this.main.node.addChild(i),i.getComponent("dijiZidan").main=this.main,i.setPosition(cc.p(this.node.x,this.node.y-this.node.height))}},this.autoFasheTimeD)},start:function(){},update:function(i){this.node.y<-this.main.node.height/2?this.node.destroy():(this.node.y-=this.downSpeed,n.isDijiBaozhaAll&&(cc.log("敌机碰撞>>>"),this.isStop=!0,this.animation.play("dijiBaozha"),cc.director.getCollisionManager().enabled=!1,cc.audioEngine.playEffect(this.baozhaAudio,!1)))},onCollisionEnter:function(i){if(!this.isStop)if(this.nowPr<=0){cc.log("敌机碰撞>>>"),this.isStop=!0,this.animation.play("dijiBaozha"),cc.director.getCollisionManager().enabled=!1;var t=this.main.getComponent("game");t.fenshu+=1,this.fenshuLabel.string=t.fenshu,this.isAddFs=!0,cc.audioEngine.playEffect(this.baozhaAudio,!1)}else{this.nowPr-=50,this.node.color=cc.Color.RED;var e=this;this.schedule(function(){e.node.color=cc.color(255,255,255)},.2)}}}),cc._RF.pop()},{publicData:"publicData"}],bullet:[function(i,t,e){"use strict";cc._RF.push(t,"4082e5t8z9N9Jt4piEsUeJc","bullet"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],dijiZidan:[function(i,t,e){"use strict";cc._RF.push(t,"56315kH/stGNpDzq27YuZ87","dijiZidan");var n=i("publicData");cc.Class({extends:cc.Component,properties:{main:{default:null,type:cc.Node},speed:50},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){},update:function(i){this.node.y<-this.main.node.height/2?this.node.destroy():(this.node.y-=this.speed,n.isDijiBaozhaAll&&this.node.destroy())},onCollisionEnter:function(i){cc.log("子弹碰撞>>>"),this.node.destroy()}}),cc._RF.pop()},{publicData:"publicData"}],feiji:[function(i,t,e){"use strict";cc._RF.push(t,"ca0565nF6lLbLcNk5TUsJet","feiji"),cc.Class({extends:cc.Component,properties:{zidan:{default:null,type:cc.Prefab},superZidan:{default:null,type:cc.Prefab},fsLabel:{default:null,type:cc.Label},fenshuCount:0,animation:null,isPlaying:!1,mainJs:null,superCount:10,fasheCount:0,fasheAudio:{default:null,url:cc.AudioClip},baozhaAudio:{default:null,url:cc.AudioClip}},fasheZiDan:function(i){var t,e;this.mainJs=i.getComponent("game"),this.fasheCount++,this.fasheCount<=this.superCount?e=(t=cc.instantiate(this.zidan)).getComponent("zidan"):(this.fasheCount=0,t=cc.instantiate(this.superZidan),this.mainJs.destroyAllDiji(),e=t.getComponent("superZidan")),i.node.addChild(t),e.main=i,t.setPosition(cc.p(this.node.x,this.node.y+this.node.height/2)),cc.audioEngine.playEffect(this.fasheAudio,!1)},onLoad:function(){this.isPlaying=!1,cc.director.getCollisionManager().enabled=!0,this.animation=this.getComponent(cc.Animation);var i=this;this.animation.destroyFeiji=function(){cc.log("play finish>>>"),null!=i.mainJs&&(cc.log("我方爆炸 "+i.mainJs.fenshu),cc.sys.localStorage.setItem("score",i.mainJs.fenshu)),i.node.destroy(),cc.director.loadScene("over")}.bind(this),cc.director.preloadScene("over")},start:function(){},onCollisionEnter:function(i){this.isPlaying||(this.animation.play("dijiBaozha"),this.isPlaying=!0,cc.audioEngine.playEffect(this.baozhaAudio,!1))},leftButton:function(i){},rightButton:function(i){},fasheButton:function(i){}}),cc._RF.pop()},{}],game:[function(i,t,e){"use strict";cc._RF.push(t,"0f1f6OkFBtGt4nPIXQ9baK/","game");var n=i("publicData");cc.Class({extends:cc.Component,properties:{speed:10,feiji:{default:null,type:cc.Node},aixin:{default:null,type:cc.Prefab},fenshuLabel:{default:null,type:cc.Label},back:{default:null,type:cc.Node},fenshu:0,bzAudio:{default:null,url:cc.AudioClip},leftButton:{default:null,type:cc.Node},rightButton:{default:null,type:cc.Node},fasheButton:{default:null,type:cc.Node},isOpenISFS:!1},createAixin:function(){var i=cc.instantiate(this.aixin);this.node.addChild(i);var t=i.getComponent("aixin");t.main=this,t.fenshuLabel=this.fenshuLabel,i.setPosition(this.getAxPosition(i)),t.isFashe=!0,t.baozhaAudio=this.bzAudio},getAxPosition:function(i){var t,e=this.node.height/2+200,n=cc.random0To1()*this.node.width/2-i.width/2;return t=.5<cc.random0To1()?n:-n,cc.p(t,e)},onLoad:function(){this.isW=!1,this.isS=!1,this.isA=!1,this.isD=!1,this.isJ=!1,this.isFs=!1,this.listenerKey(),this.listenerButton(),this.schedule(function(){this.createAixin()},.5),this.fjJs=this.feiji.getComponent("feiji")},listenerButton:function(){var i=this;this.leftButton.on("touchstart",function(){i.isA=!0}),this.leftButton.on("touchend",function(){i.isA=!1}),this.rightButton.on("touchstart",function(){i.isD=!0}),this.rightButton.on("touchend",function(){i.isD=!1}),this.leftButton.on("touchend",function(){i.isA=!1}),this.fasheButton.on("touchstart",function(){i.isJ=!0}),this.fasheButton.on("touchend",function(){i.isJ=!1})},listenerKey:function(){var e=this,i={event:cc.EventListener.KEYBOARD,onKeyPressed:function(i,t){switch(cc.log(i+">>> pressed"),i){case cc.KEY.w:e.isW=!0;break;case cc.KEY.a:e.isA=!0;break;case cc.KEY.d:e.isD=!0;break;case cc.KEY.s:e.isS=!0;break;case cc.KEY.j:e.isJ=!0}},onKeyReleased:function(i,t){switch(cc.log(i+">>> released"),i){case cc.KEY.w:e.isW=!1;break;case cc.KEY.a:e.isA=!1;break;case cc.KEY.d:e.isD=!1;break;case cc.KEY.s:e.isS=!1;break;case cc.KEY.j:e.isJ=!1,e.isFs=!1}}};cc.eventManager.addListener(i,this.node)},start:function(){},update:function(i){this.isA&&this.feiji.x-this.feiji.width/2>-this.node.width/2&&(this.feiji.x-=this.speed),this.isD&&this.feiji.x+this.feiji.width/2<this.node.width/2&&(this.feiji.x+=this.speed),this.isW&&this.feiji.y+this.feiji.height/2<this.node.height/2&&(this.feiji.y+=this.speed),this.isS&&this.feiji.y-this.feiji.height/2>-this.node.height/2&&(this.feiji.y-=this.speed),(this.isJ&&!this.isFs||this.isJ&&!this.isOpenISFS)&&(this.fjJs.fasheZiDan(this),this.isFs=!0)},destroyAllDiji:function(){n.isDijiBaozhaAll=!0;this.schedule(function(){n.isDijiBaozhaAll=!1},.5)}}),cc._RF.pop()},{publicData:"publicData"}],over:[function(i,t,e){"use strict";cc._RF.push(t,"e3d8aw6ozpNKKoWYN5oSBB9","over"),cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},label:{default:null,type:cc.Label}},onLoad:function(){cc.director.preloadScene("player"),this.button.on("touchstart",function(){cc.director.loadScene("player")});var i=cc.sys.localStorage.getItem("score");this.label.string="最终得分:"+i},start:function(){}}),cc._RF.pop()},{}],publicData:[function(i,t,e){"use strict";cc._RF.push(t,"e5fade2rflAPLESyrv1BEc2","publicData"),t.exports={isDijiBaozhaAll:!1},cc._RF.pop()},{}],startButton:[function(i,t,e){"use strict";cc._RF.push(t,"3fa2fzslrhL9YCO9AQ98gvz","startButton"),cc.Class({extends:cc.Component,properties:{bgmAudio:{default:null,url:cc.AudioClip}},onLoad:function(){cc.director.preloadScene("player"),this.node.on("touchstart",function(){cc.director.loadScene("player")}),cc.audioEngine.playMusic(this.bgmAudio,!0)},start:function(){}}),cc._RF.pop()},{}],superZidan:[function(i,t,e){"use strict";cc._RF.push(t,"ff67eqMXHdP6p77nS6u4EF4","superZidan"),cc.Class({extends:cc.Component,properties:{main:{default:null,type:cc.Node},speed:50},update:function(i){this.node.y>this.main.node.height/2?this.node.destroy():this.node.y+=this.speed}}),cc._RF.pop()},{}],zidan:[function(i,t,e){"use strict";cc._RF.push(t,"ee80fcQFwRK5rCUI9+t0EYQ","zidan"),cc.Class({extends:cc.Component,properties:{main:{default:null,type:cc.Node},speed:50,isDown:!1},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){},update:function(i){this.isDown?this.node.y<-this.main.node.height/2?this.node.destroy():this.node.y-=this.speed:this.node.y>this.main.node.height/2?this.node.destroy():this.node.y+=this.speed},onCollisionEnter:function(i){cc.log("子弹碰撞>>>"),this.node.destroy()}}),cc._RF.pop()},{}]},{},["aixin","bullet","dijiZidan","feiji","game","over","publicData","startButton","superZidan","zidan"]);